<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>

    <title>Project Repository: Search</title>
</head>
<body>
    <div th:replace="layout/header::header"></div>

    <div class="search">
        <h3>프로젝트 검색</h3>
        <form th:action="@{/search}" method="GET">
            <select name="category">
                <option value="none" selected>===검색기준===</option>
                <option value="title_and_content">제목+내용</option>
                <option value="techstack">기술스택</option>
                <option value="nickname">작성자</option>
                <option value="title">제목</option>
                <option value="content">내용</option>
            </select>

            <select name="orderby">
                <option value="none" selected>====정렬기준====</option>
                <option value="project_start_date">프로젝트 시작날짜</option>
                <option value="project_end_date">프로젝트 종료날짜</option>
                <option value="nickname">작성자</option>
                <option value="title">제목</option>
            </select>

            <input type="text" name="search_text">
            <input type="submit" value="search">
        </form>
    </div>

    <div class="project_list">
        <table>
            <tr>
                <th class="disc"> 제목 </th>
                <th class="disc"> 주제 </th>
                <th class="disc"> 기술스택 </th>
                <th class="disc"> 시작날짜 </th>
                <th class="disc"> 종료날짜 </th>
                <th class="disc"> 작성자 </th>
            </tr>
            <tr th:each="project: ${projectList}">
                <td class="square" th:text="${project.mainTitle}"></td>
                <td class="square" th:text="${project.subject}"></td>
                <td class="square" th:text="${project.techStack}"></td>
                <td class="square" th:text="${project.projectStartDate}"></td>
                <td class="square" th:text="${project.projectEndDate}"></td>
                <td class="square" th:text="${project.user.nickname}"></td>
                <td class="lookup">
                    <a th:href="@{/project/{id}/(id=${project.projectId})}">조회</a>
                </td>
            </tr>
        </table>
    </div>

  <script type="text/javascript" src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script th:src="@{/js/util/csrf.js}"></script>
  <script th:src="@{/js/project/project_search.js}"></script>
</body>
</html>